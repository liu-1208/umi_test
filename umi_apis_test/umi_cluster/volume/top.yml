
config:
    name: "Cluster Volume Top Test"
    base_url: ${get_cluster_url()}
    parameters:
        req_host: ${P(umi_cluster/data/storage.csv)}
    variables:
        vol_name: vol-01

teststeps:
-
    name: Cluster Volume Top Open
    request:
        method: POST
        url: "/cluster/volume/top/open"
        json: {
            "req_host": "$req_host",
            "vol_name": "$vol_name"
        }
    validate:
        - eq: ["status_code", 200]
-
    name: Cluster Volume Top Read
    request:
        method: POST
        url: "/cluster/volume/top/read"
        json: {
            "req_host": "$req_host",
            "vol_name": "$vol_name"
        }
    validate:
        - eq: ["status_code", 200]
-
    name: Cluster Volume Top Write
    request:
        method: POST
        url: "/cluster/volume/top/write"
        json: {
            "req_host": "$req_host",
            "vol_name": "$vol_name"
        }
    validate:
        - eq: ["status_code", 200]
-
    name: Cluster Volume Top Opendir
    request:
        method: POST
        url: "/cluster/volume/top/opendir"
        json: {
            "req_host": "$req_host",
            "vol_name": "$vol_name"
        }
    validate:
        - eq: ["status_code", 200]
-
    name: Cluster Volume Top Readdir
    request:
        method: POST
        url: "/cluster/volume/top/readdir"
        json: {
            "req_host": "$req_host",
            "vol_name": "$vol_name"
        }
    validate:
        - eq: ["status_code", 200]
-
    name: Cluster Volume Top Clear
    request:
        method: POST
        url: "/cluster/volume/top/clear"
        json: {
            "req_host": "$req_host",
            "vol_name": "$vol_name"
        }
    validate:
        - eq: ["status_code", 200]

