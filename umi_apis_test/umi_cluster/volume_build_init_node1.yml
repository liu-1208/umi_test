config:
    name: ${ENV(umi_cluster_test_title)}
    base_url: ${ENV(umi_cluster_url)}

teststeps:

# 擦除块设备，dev_path修改为具体的设备名
-
    name: Block Device Wipe
    request:
        method: POST
        url: "/storage/block_device/wipe"
        json: {
          "req_host": "172.18.123.71",
          "dev_path": "/dev/sde"
        }
    validate:
        - eq: ["status_code", 200]

# 初始化块设备，dev_path修改为具体的设备名
-
    name: Block Device Init
    request:
        method: POST
        url: "/storage/block_device/init"
        json: {
          "req_host": "172.18.123.71",
          "dev_path": "/dev/sde"
        }
    validate:
        - eq: ["status_code", 200]

# 挂载块设备，dev_path修改为具体的设备名
-
    name: Block Device Enable
    request:
        method: POST
        url: "/storage/block_device/enable"
        json: {
          "req_host": "172.18.123.71",
          "dev_path": "/dev/sde"
        }
    validate:
        - eq: ["status_code", 200]

# 卸载块设备并取消开机挂载，dev_path修改为具体的设备名
-
    name: Block Device Disable
    request:
        method: POST
        url: "/storage/block_device/disable"
        json: {
          "req_host": "172.18.123.71",
          "dev_path": "/dev/sde"
        }
    validate:
        - eq: ["status_code", 200]