config:
  name: 配置一个单节点集群，创建一个单副本卷
  base_url: ${ENV(API_URL)}
  variables:
    Node_1_PrivateAddr: 172.16.120.104
    Node_1_BlockDevice_1_Path: /dev/sdb
    Node_1_BlockDevice_1_UUID: 12345678-1234-1234-1234-12345678900b
    Volume_1_Name: vol-01
    Volume_1_Type: Repalica
    Volume_1_Pattern: 1

teststeps:
  - name: Test CleanUp
    testcase: testcases/01-Volume-A-CleanUp.yml

  - name: Block Device Init
    variables:
      req_host: $Node_1_PrivateAddr
      dev_path: $Node_1_BlockDevice_1_Path
      fs_uuid: $Node_1_BlockDevice_1_UUID
    testcase: api/storage/block_device/init.yml

  - name: Block Device Enable
    variables:
      req_host: $Node_1_PrivateAddr
      dev_path: $Node_1_BlockDevice_1_Path
    testcase: api/storage/block_device/enable.yml

  - name: Cluster Node Append
    variables:
      req_host: $Node_1_PrivateAddr
      node_addr: $Node_1_PrivateAddr
    testcase: api/cluster/node/append.yml

  - name: Cluster Volume Create
    variables:
      req_host: $Node_1_PrivateAddr
      vol_name: $Volume_1_Name
      remote_mnts: ["$Node_1_PrivateAddr:/data/$Node_1_BlockDevice_1_UUID"]
      vol_type: $Volume_1_Type
      vol_pattern: $Volume_1_Pattern
      rdma: --Empty--
    testcase: api/cluster/volume/create.yml

  - name: Cluster Volume Start
    variables:
      req_host: $Node_1_PrivateAddr
      vol_name: $Volume_1_Name
    testcase: api/cluster/volume/start.yml
