config:
    name: Posix Share Update
    base_url: ${ENV(API_URL)}
    variables:
        ret_code: 200
        req_host: 127.0.0.1
        vol_name: vol-01
        share_dir: /subdir-01
        allow_hosts: ["192.168.1.0/24"]
        deny_hosts: ["192.168.1.70"]

teststeps:
-
    name: API
    request:
        url: /cluster/posix/share/update
        method: POST
        json: ${gen_data(
                req_host=$req_host,
                vol_name=$vol_name,
                share_dir=$share_dir,
                allow_hosts=$allow_hosts,
                deny_hosts=$deny_hosts
            )}
    validate:
        - eq: ["status_code", $ret_code]
