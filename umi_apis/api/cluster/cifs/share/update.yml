config:
    name: Cifs Share Update
    base_url: ${ENV(API_URL)}
    variables:
        ret_code: 200
        req_host: 127.0.0.1
        name: share-01
        vol_name: vol-01
        share_dir: /subdir-01
        glfs_api: --Empty--
        acls: --Empty--
        allow_hosts: --Empty--
        deny_hosts: --Empty--
        guest_ok: --Empty--
        admin_users: --Empty--
        read_list: --Empty--
        write_list: --Empty--
        create_mode: --Empty--
        directory_mode: --Empty--

teststeps:
-
    name: API
    request:
        url: /cluster/cifs/share/update
        method: POST
        json: ${gen_data(
                req_host=$req_host,
                name=$name,
                vol_name=$vol_name,
                share_dir=$share_dir,
                glfs_api=$glfs_api,
                acls=$acls,
                allow_hosts=$allow_hosts,
                deny_hosts=$deny_hosts,
                guest_ok=$guest_ok,
                admin_users=$admin_users,
                read_list=$read_list,
                write_list=$write_list,
                create_mode=$create_mode,
                directory_mode=$directory_mode
            )}
    validate:
        - eq: ["status_code", $ret_code]
